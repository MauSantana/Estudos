<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prova Continuada</title>
</head>

<body style="display: flex;flex-direction: column;align-items: center;">
    Cadastre o nome do País: <br> <input id="in_nome"> <br>
    Cadastre a população do país: <br> <input id="in_populacao"> <br>
    Cadastre o grau da liberdade econômica de um país: <br> <input id="in_liberdade"> <br> <br>

    <button onclick="cadastrar()">Cadastrar País</button> <br> <br>
    <button onclick="analisar()">Analisar</button> <br> <br>
    <div id="resultado"></div> <br>
</body>

</html>
<script>

    var lista = []

    function cadastrar() {
        var pais = {
            nome: in_nome.value,
            populacao: Number(in_populacao.value),
            liberdade: Number(in_liberdade.value)
        }
        if (pais.populacao < 1000 || pais.liberdade < 0 || pais.liberdade > 100) {
            alert("Insira valores válidos")
        }
        else {

            if (pais.liberdade > 80 && pais.liberdade <= 100) {
                pais.categoria = 'Livre';
                pais.idh = 0.85;
                pais.desemprego = 5;
                pais.emprego = pais.populacao * 0.05;
                pais.img = 'livre.jpg'
            }
            else if (pais.liberdade > 70 && pais.liberdade <= 80) {
                pais.categoria = 'Quase Livre',
                    pais.idh = 0.77;
                pais.desemprego = 7;
                pais.emprego = pais.populacao * 0.07;
                pais.img = 'quaseLivre.png'
            }
            else if (pais.liberdade > 60 && pais.liberdade <= 70) {
                pais.categoria = 'Moderamente Livre';
                pais.idh = 0.74;
                pais.desemprego = 8;
                pais.emprego = pais.populacao * 0.08;
                pais.img = 'moderamenteLivre.jpg'
            }
            else if (pais.liberdade > 50 && pais.liberdade <= 60) {
                pais.categoria = 'Quase Reprimido';
                pais.idh = 0.65;
                pais.desemprego = 15;
                pais.emprego = pais.populacao * 0.15;
                pais.img = 'quaseReprimido.jpg'
            }
            else {
                pais.categoria = 'Reprimido';
                pais.idh = 0.60;
                pais.desemprego = 22;
                pais.emprego = pais.populacao * 0.22;
                pais.img = 'reprimido.jpeg'
            }
            lista.push(pais)
        }
    }

    function analisar() {
        resultado.innerHTML = "";
        var contador = 0
        while (contador < lista.length) {
            resultado.innerHTML += `
            Pais ${contador + 1}: <b>${lista[contador].nome}</b> <br>
            Categoria: <b>${lista[contador].categoria}</b> <br>
            Habitantes: <b>${lista[contador].populacao}</b> <br>
            IDH média próvavel: <b>${lista[contador].idh}</b> <br>
            Desemprego médio provável: <b>${lista[contador].desemprego}%</b>, ou seja, talvez <b>${lista[contador].emprego.toFixed(0)}</b> estejam sem emprego. <br>
            <img src="${lista[contador].img}">  
            <br><br>
            `
            contador++;
        }
    }

</script>